webpackJsonp([16],{155:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function controller(_,service,$timeout,$state,util,$q){function unshiftOption(arrList,shiftOption){return Array.isArray(arrList)&&arrList.unshift(shiftOption),arrList}function paddingData(data){return{productionList:unshiftOption(data.productionList,{productionCode:"",productionName:"请选择"})}}function deleteEmptyData(data){if(data){for(var item in data)"00"!==data[item]&&""!==data[item]||delete data[item];return data}}var o,timer;_.count="",_.downloadBtn=!1,_.checkBoxManage=!1,_.loanMenInfo=[],_.selectOption={type:"select",name:"Service",value:"10条",values:["10条","20条","30条","40条","50条"]};var queryParam=function(){return{repaymentDate:util.getLatelyDay(0,"noExtend"),productionCode:"",pageSize:10,pageNo:1}};_.query=queryParam(),_.selectChange=function(data){var num=parseInt(data.replace(/(\d+)\D/,"$1"));_.query.pageSize=num,_.selectOption.value=num+"条",_.query.pageNo=1,o.laterQueryList()},_.getCreateStartDate=function(startTime){console.log(startTime),_.getDate("#inpCreateStart",function(starTime){_.query.repaymentDate=starTime,_.$apply()},function(startObj){startObj.format="YYYY-MM-DD",delete startObj.maxDate})},_.searchStart=function(){o.laterQueryList()},_.clearSearch=function(){_.query=queryParam(),o.laterQueryList()};var isFirst=function(){var count=1,isFirst=!0;return function(){return count>1&&(isFirst=!1),count+=1,isFirst}}();_.exprotFile=function(){return _.count>3e3?void alert("全量导出不能超过3000条!"):0==_.count?alert("没有可导出的数据!"):(delete _.downFileFilter.pageSize,delete _.downFileFilter.pageNo,delete _.downFileFilter.isFirst,void service.exprotFile(_.downFileFilter))},o={laterQueryList:function(){var that=this;timer&&clearTimeout(timer),timer=setTimeout(function(){that.getUserInfoList()},200)},getUserInfoList:function(config){var cfg=JSON.parse(JSON.stringify(_.query));cfg.isFirst=isFirst(),_.downFileFilter=deleteEmptyData(cfg),service.getLoanMenInfoList(_.query).then(function(data){_.baseSelectData=paddingData(data),_.downloadBtn=_.checkBoxManage=!1,_.loanMenInfo=data.page.result?data.page.result:[],_.loanMenInfo.forEach(function(v){v.CheckboxFlag=!1}),0==data.page.result.length&&1!==_.query.pageNo&&(_.query.pageNo=_.query.pageNo-1,o.getUserInfoList()),_.count=data.page.totalCount,_.showPage="visible",_.currentPage=data.page.pageNo,_.isDisabled=_.count<3e3&&_.count>0,_.$broadcast("EVT_PAGE_CHANGE",{total:data.page.totalPages,current:_.currentPage})},function(data){alert(data.responseMsg)})},init:function(){this.getUserInfoList(),_.lodingMask=!0}},o.init(),_.$on("EVT_PAGE_SELECTED",function(evt,data){_.query.pageNo=data.pageSelectedNum,o.getUserInfoList(),_.query.pageNo=1})}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__(109),dependArr=(_interopRequireDefault(_jquery),[__webpack_require__(156).default.name]);exports.default={module:angular.module("rewardingCtrl",dependArr).controller("rewardingController",["$scope","rewardingService","$timeout","$state","util","$q",controller]),template:__webpack_require__(157)}},156:function(module,exports){"use strict";function service(util,ajax){return{getLoanMenInfoList:function(cfg){return ajax.post("/acc/productionloan/repayment.do",cfg)},exprotFile:function(cfg){if(util.isEmptyObject(cfg)){var param="";for(var params in cfg)param+=params+"="+cfg[params]+"&";var url="/acc/productionloan/downloadRepayment.do?"+param;url=url.slice(0,-1),location.href=url}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("rewardingSer",[]).factory("rewardingService",["util","ajax","validator",service])},157:function(module,exports){module.exports='<div class="main">\r\n\t<loding-mask></loding-mask>\r\n\t<div class="inner" ng-style="{\'min-height\':isShowReportDialog ? \'5000px\':\'auto\'}">\r\n\t    <div class="inner-header clearfix">\r\n\t        <div class="inner-header-lf fl">应回款报表</div>\r\n\t  \r\n\t    </div>\r\n\t    <div class="inner-body">\r\n\t        <div class="inner-select">\r\n\t            <table style="width: 100%;">\r\n\t                <tr>\r\n\t                    <td class="tl-r">应回款日期：<input type="hidden" id="timeDefaut"></td>\r\n\t                    <td style="width: 500px;">\r\n\t                    \t<input id="inpCreateStat" class="datainp inp1 fl calendar" ng-model = \'query.repaymentDate\' ng-click = "getCreateStartDate(query.repaymentDate)" type="text" readonly>\r\n\t                    \t<span class="fl" style="line-height:27px;padding:0 6px;">至</span>\r\n\t\t\t\t\t\t   <input id="inpCreateStart" class="datainp inp1 fl calendar" ng-model = \'query.repaymentDate\' ng-click = "getCreateStartDate(query.repaymentDate)" type="text" readonly>\r\n\t                    </td>\r\n\t                \t  <td></td>\r\n\t                    <td>\r\n\t                    </td>\r\n\t                </tr>\r\n\t                <tr>\r\n\t                    <td class="tl-r">产品：</td>\r\n\t                    <td>\r\n\t                    \t<select class="select-global" ng-model = "query.productionCode" ng-options = "option.productionCode as option.productionName for option in baseSelectData.productionList"></select>\r\n\t                    </td>\r\n\t                </tr>\r\n\t                <tr>\r\n\t\t\t\t\t\t<td class="tl-r"></td>\r\n\t\t\t\t\t\t<td class="fl search">\r\n\t\t\t\t\t\t\t<div class="search-start" behavior ng-click="searchStart()">查 询</div>\r\n\t\t\t\t\t\t\t<div class="search-start" behavior ng-click="clearSearch()">清 空</div>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t            </table>\r\n\t                </div>\r\n\t                <div class="inner-table">\r\n\t                    <div class="hdFixed">\r\n\t                        <div class="hd clearfix id" id="tableHD">\r\n\t                            <download-btn name = "导出" lock = "isDisabled" ng-click = "exprotFile()" class="fr"/>\r\n\t                        </div>\r\n\t                    </div>\r\n\t                    <div class="bd">\r\n\t                        <table class="table_user oddEvenColor" border="1" borderColor="#fff" ng-click="tableClick($event)">\r\n\t                            <tr>\r\n\t                              <th width="39">序号</th>\r\n\t                            \t<th>案件号</th>\r\n\t                            \t<th>产品</th>\r\n\t                              <th>姓名</th>\r\n\t                              <th>期数</th>\r\n\t                              <th>应还时间</th>\r\n\t                              <th>应还本金</th>\r\n\t                              <th>应还利息</th>\r\n\t                              <th>应还总金额</th>\r\n\t                              <th>还款状态</th>\r\n\t                            </tr>\r\n\t                            <tr ng-repeat="item in loanMenInfo">\r\n\t                            \t<td ng-bind="$index + 1"></td>\r\n\t                                <td ng-bind="item.requestId"></td>\r\n\t                                <td ng-bind="item.productionName"></td>\r\n\t                                <td ng-bind="item.applicantName"></td>\r\n\t                                <td ng-bind="item.billPeriods"></td>\r\n\t                                <td ng-bind="item.repaidDeadline.time|timeDateFilter"></td>\r\n\t                                <td ng-bind="item.presentPri"></td>\r\n\t                                <td ng-bind="item.presentInt"></td>\r\n\t                                <td ng-bind="(item.presentPri + item.presentInt + item.presentServiceFeeBr) | number:2"></td>\r\n\t                                <td ng-bind="item.status"></td>\r\n\t                            </tr>\r\n\t                        </table>\r\n\t                    </div>\r\n\t                <div class="ft clearfix yeshu" ng-style="{visibility:showPage}">\r\n\t\t\t            <div class="fl ft-lf"> 共 <span ng-bind="count"></span>条 每页显示\r\n\t\t\t                <select ng-model="selectOption.value" ng-change="selectChange(selectOption.value)" ng-options="v for v in selectOption.values"></select>\r\n\t\t\t            </div>\r\n\t\t\t            <div class="fr ft-rt">\r\n\t\t\t                <div class="page clearfix">\r\n\t\t\t                <span page></span>\r\n\t\t\t            </div>\r\n\t\t\t        </div>\r\n\t\t\t    </div>\r\n\t\t\t</div>\r\n\t    </div>\r\n\t</div>\r\n</div>\r\n'}});