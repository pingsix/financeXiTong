webpackJsonp([6],{115:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function controller(_,$timeout,service){var o;_.selectData={type:"select",name:"select",value:"",values:[]},_.number=200,_.selectDataChange=function(){},_.flag=!1;var o={getUserInfoList:function(){var cfg={};service.getUserInfoList(cfg).then(function(data){_.selectData.values=data.result},function(reason){alert("角色拉取失败！")})},init:function(){this.getUserInfoList()}};o.init(),_.showflag=!0,_.taggleAll=function(){_.showflag?((0,_jquery2.default)("#roleid").removeClass("rolesWrapper"),_.showflag=!1):((0,_jquery2.default)("#roleid").addClass("rolesWrapper"),_.showflag=!0)},_.tellTipShow=function(){_.inputTipContext=!0},_.tellTipHidden=function(){_.inputTipContext=!1},_.click=function(cfg){var idsArr=[],idStr=function(){var arr=_.selectData.values.slice(0);return arr.forEach(function(v,i,arr){var isArrJson={};v.checked&&(isArrJson.groupId=v.groupId,isArrJson.groupName=v.groupName,isArrJson.id=v.id,idsArr.push(isArrJson))}),idsArr.length?idsArr:alert("请选择角色！")}();0!=idsArr.length&&service.formSubmit({groups:idStr,userId:_.username||"",userName:_.realName||"",spare1:_.remark||"",email:_.userMail||"",tel:_.userTel||""})},_.back=function(){location.href="#/manager/user"},_.yanzheng=function(cfg){},_.usernameKeyup=function(event){service.usernameKeyup(_.username)},_.realNameKeyup=function(event){service.realNameKeyup(_.realName)},_.userMailKeyup=function(event){service.userMailKeyup(_.userMail)},_.userTelKeyup=function(event){service.userTelKeyup(_.userTel)},_.remarkKeyup=function(event){service.remarkKeyup(_.remark,function(num){_.number=num})}}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__(109),_jquery2=_interopRequireDefault(_jquery),dependArr=[__webpack_require__(116).default.name];exports.default={module:angular.module("newUserCtr",dependArr).controller("newUserController",["$scope","$timeout","newUserService",controller]),template:__webpack_require__(117)}},116:function(module,exports){"use strict";function newUserService(util,ajax,validator){var jq=(document,angular.element);return{getUserInfoList:function(cfg){return ajax.post("/acc/reviewuser/new.do",cfg)},formSubmit:function(cfg){if(""==cfg.userId)return jq(util.getById("username1")).addClass("red-border"),util.getById("username1").focus(),void alert("账号不能为空！");if(/(?=[\x21-\x7e]+)[^A-Za-z0-9]/.test(cfg.userId))return jq(util.getById("username1")).addClass("red-border"),util.getById("username1").focus(),void alert("账户名不能包含特殊符号！");if(!/^(?!\d+$)[\da-zA-Z]*$/.test(cfg.userId))return jq(util.getById("username1")).addClass("red-border"),util.getById("username1").focus(),void alert("账户名不能为中文或纯数字！");if(validator.isEmpty(cfg.userName))return jq(util.getById("realName")).addClass("red-border"),util.getById("realName").focus(),void alert("用户名不能为空");var reg=/^[\u4E00-\u9FA5]{2,}$/g;if(!reg.test(cfg.userName))return jq(util.getById("realName")).addClass("red-border"),util.getById("realName").focus(),void alert("姓名长度不能少于2位，仅可以输入汉字");if(!cfg.email)return jq(util.getById("userMail")).addClass("red-border"),util.getById("userMail").focus(),void alert("邮箱不能为空");var regEmail=new RegExp("^\\w+((-\\w+)|(\\.\\w+))*\\@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$","g");return validator.isEmpty(cfg.email)||regEmail.test(cfg.email)?validator.isEmpty(cfg.tel)||/^((0\d{2,3}-\d{7,8})|(1[3584]\d{9}))$/.test(cfg.tel)?void ajax.post("/acc/reviewuser/addUser.do",cfg).then(function(data){alert("随机密码已发送"),location.href="#/manager/user"}):(jq(util.getById("userTel")).addClass("red-border"),util.getById("userTel").focus(),void alert("手机格式错误")):(jq(util.getById("userMail")).addClass("red-border"),util.getById("userMail").focus(),void alert("邮箱格式错误"))},formSubmit01:function(cfg,fn){var usernameDom=util.getById("username1"),savaDom=util.getById("save");if(validator.isEmpty(cfg.username))return jq(usernameDom).addClass("red-border"),void savaDom.focus()},usernameKeyup:function(text){validator.isEmpty(text)||jq(util.getById("username1")).removeClass("red-border")},realNameKeyup:function(text){validator.isEmpty(text)||jq(util.getById("realName")).removeClass("red-border")},userMailKeyup:function(text){validator.isEmpty(text)||jq(util.getById("userMail")).removeClass("red-border")},userTelKeyup:function(text){validator.isEmpty(text)||jq(util.getById("userTel")).removeClass("red-border")},remarkKeyup:function(text,fn){if(!validator.isEmpty(text)){var newNum=text.length,number=200-newNum;fn&&fn(number),number<0&&(event.returnValue=!1)}}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("newUserSer",[]).factory("newUserService",["util","ajax","validator",newUserService])},117:function(module,exports){module.exports='<div class="main">\r\n\t<div class="inner" style="border: 1px solid transparent">\r\n\t    <div class="title" style="margin-top: 24px">新建用户</div>\r\n\t    <div class="content content_newUser">\r\n\t       \t\t<div id="roleid" class="rolesWrapper" style="padding:0 20% 0 27%; position: relative;">\r\n\t\t            <span class="fl"><i class="not-null">*</i>角色：</span>\r\n\t\t            <div class="fr lablesWrapper">\r\n\t\t            \t<label ng-repeat="item in selectData.values" class="lables">\r\n\t\t                \t<input ng-model="item.checked" ng-change = \'saveRoles()\' name="roleName" type="checkbox" value="{{item.groupId}}" >&nbsp;{{item.groupName}}\r\n\t\t           \t\t</label>\r\n\t\t            </div>\r\n\t\t            <div ng-click = "taggleAll()" class="showBtn">&#9660;</div>\r\n\t\t        </div>\r\n\t\t        <div class="clearfl"></div>\r\n\t\t        <p>\r\n\t\t            <span><i class="not-null">*</i>账号：</span>\r\n\t\t            <input type="text" id="username1" ng-model="username" maxlength="20" ng-keyup="usernameKeyup(event)" ng-blur="yanzheng()">\r\n\t\t            <!-- <span class="yanzheng" ng-click="yanzheng()">验证账号</span> -->\r\n\t\t        </p>\r\n\t\t        <p>\r\n\t\t            <span><i class="not-null">*</i>姓名：</span>\r\n\t\t            <input type="text" id="realName" ng-model="realName" maxlength="20" ng-keyup="realNameKeyup(event)">\r\n\t\t        </p>\r\n\t\t        <p>\r\n\t\t            <span><i class="not-null">*</i>邮箱：</span>\r\n\t\t            <input type="text" id="userMail" ng-model="userMail" maxlength="50" ng-keyup="userMailKeyup(event)">\r\n\t\t        </p>\r\n\t\t        <p>\r\n\t\t            <span>固定号码：</span>\r\n\t\t            <input type="text" id="userTel" ng-model="userTel" maxlength="18" ng-keyup="userTelKeyup(event)">\r\n\t\t            <i ng-mouseOver = "tellTipShow()" ng-mouseOut = "tellTipHidden()" class="inputTip"></i>\r\n\t                <a ng-show = "inputTipContext" class="inputTipBlank">例：010-12345678/13812345678</a>\r\n\t\t        </p>\r\n\t\t        <p class="text" style="height: 180px;">\r\n\t\t            <span class="beizhu">备注：</span>\r\n\t\t            <textarea cols="50" rows="8" id="remark" ng-model="remark" ng-keyup="remarkKeyup(event)" maxlength="200"></textarea>\r\n\t\t            &nbsp;还能输入<span class="number" id="number" ng-bind="number"></span>个字符\r\n\t\t        </p>\r\n\t\t        <p class="btn">\r\n\t\t            <button class="btn6 btn7-disabled save" ng-click="click()" id="save">保 存</button>\r\n\t\t            <button class="btn7 ml54" id="back" ng-click="back()">返 回</button>\r\n\t\t        </p>\r\n\t    </div>\r\n\t    <div class="inner-footer"></div>\r\n\t</div>\r\n</div>\r\n'}});