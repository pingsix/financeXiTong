webpackJsonp([19],{108:function(module,exports,__webpack_require__){var $=__webpack_require__(109),mask={crrentHeight:0,defaultStyle:function(){return{height:"auto",zIndex:1e3,display:"block",opacity:.7,background:"#000",position:"absolute",top:0,right:0,bottom:0,left:0}},creatMask:function(pn,cg){if(!pn)throw new Error("parent element is null ! plase creat element  fill secend param(only id)");var wrapName,maskElm;wrapName=$("#"+pn),maskElm=document.createElement("div"),maskElm.id="maskDialog",wrapName.append(maskElm);var maskConfig=cg||Object.keys(cg).length||this.defaultStyle();this.maskAddStyle(maskConfig)},addStyle:function(styleList){var elm=$("#maskDialog");if(!$("#maskDialog").size())throw new Error("the id#maskDialog is no defined");elm.css(styleList)},maskAddStyle:function(maskConfig){if(!maskConfig||!Object.keys(maskConfig).length)return void this.addStyle(this.defaultStyle());var initStyle=this.defaultStyle(),styleList={};for(var k in initStyle)maskConfig[k]?styleList[k]=maskConfig[k]:styleList[k]=initStyle[k];styleList.height=this.isLessClient(styleList.height),this.addStyle(styleList)},isLessClient:function(setHeight){var clientHeight=document.documentElement.clientHeight;return setHeight<clientHeight?(this.crrentHeight=clientHeight,clientHeight):(this.crrentHeight=setHeight,setHeight)},getHeight:function(){return this.crrentHeight}};const maskCtrl={show:function(config,pushElmName){document.getElementById("maskDialog")?mask.maskAddStyle(config):mask.creatMask(pushElmName,config)},hidden:function(){var recoverHeight=document.documentElement.clientHeight;mask.maskAddStyle({display:"none",height:recoverHeight})},getHeight:function(){return mask.getHeight()}};module.exports=maskCtrl},176:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function controller(_,service,$state,$timeout){function resetProduction(){for(var i in _.production)_.production[i]=""}function fullProduction(obj1,obj2){for(var i in obj2)obj1[i]=obj2[i];return obj1}function validateParam(data){var ignorePropVal=["fundSharing","assetSharing","brSharing","collNode"],validateVal=saveParam(data);console.log(validateVal);var isIntType=/^[0-9]*$/,isAllFill=Object.keys(validateVal).every(function(v){for(var i=0,ii=ignorePropVal.length;i<ii;i++)if(ignorePropVal[i]==v&&"0"==validateVal[v])return!0;return"undefined"!=typeof validateVal[v]&&0!=validateVal[v]});return isAllFill?!!isIntType.test(data.collNode)||(data.collNode="",alert("催收节点必须为正整数！"),!1):(alert("信息填写不全，请检查信息！"),!1)}function unshiftDefault(item,paddingContent){return isArray(item)&&item.unshift(paddingContent),item}function saveParam(item){var saveParam={lasPartnerCode:_.statusParamInfo.partnerCode,productionCode:_.statusParamInfo.code,accPartnerCode:item.partnerName,fundSharing:item.fundSharing,assetSharing:item.assetSharing,collNode:item.collNode};return _.editFlag&&(saveParam.id=item.id),saveParam}function paddingData(data){var productionStatusList=[{id:"0",value:"待生效"},{id:"1",value:"生效"},{id:"2",value:"结束"}],configStatusList=[{id:"0",value:"否"},{id:"1",value:"是"}];return{productionStatusList:unshiftDefault(productionStatusList,{id:"",value:"请选择"}),configStatusList:unshiftDefault(configStatusList,{id:"",value:"请选择"})}}function render(item,addInfo){_.editFlag=!!addInfo,resetProduction(),item=addInfo?fullProduction(item,addInfo):item;for(var i in item)_.production[i]||(_.production[i]=item[i]);_.production.partnerName=addInfo?item.accPartnerCode:""}function getSelectInfo(){function getSelectList(){item=item.accPartnerCode?{partnerCode:item.partnerCode,accPartnerCode:item.accPartnerCode,productionCode:item.productionCode}:item,service.getAccSideList(item).then(function(data){var bankrollParList=[];Array.isArray(data.bankrollParList)&&(bankrollParList=data.bankrollParList.slice(),bankrollParList.unshift({partnerCode:"",partnerName:"请选择"})),_.accSideList=bankrollParList},function(reason){alert(reason.responseMsg+"3")})}var item=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{partnerCode:_.statusParamInfo.partnerCode,productionCode:_.statusParamInfo.code};$timeout(getSelectList,50)}var o,timer;_.selectOption={type:"select",name:"Service",value:"10条",values:["10条","20条","30条","40条","50条"]},_.dian=function(item){item.imgsIcon?item.imgsIcon=!1:item.imgsIcon=!0};var queryParam=function(){return{productionStatus:"",configStatus:"",keyWord:"",pageNo:1,pageSize:10,code:"",name:"",accPartnerCode:"",partnerName:"",fundSharing:"",assetSharing:"",collNode:""}};_.production=queryParam();var isArray=Array.isArray;_.selectChange=function(data){var num=parseInt(data.replace(/(\d+)\D/,"$1"));_.production.pageSize=num,_.selectOption.value=num+"条",_.production.pageNo=1,o.laterQueryList()},_.searchStart=function(){o.laterQueryList()},_.clearSearch=function(){_.production=queryParam(),_.selectOption.value=_.production.pageSize+"条",o.laterQueryList()},_.viewDetail=function(item){var param={code:item.productionCode,name:item.productionName,partner:item.partner,partnerCode:item.partnerCode,status:item.status},paramss=encodeURI(JSON.stringify(param));_.statusParamInfo=JSON.parse(decodeURI(paramss))},_.openPair=function(){var item=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;getSelectInfo(item),_.dialogShow=!0,_dialog_mask2.default.show({height:_.getClientHeight()}),item?render(item,_.statusParamInfo):render(_.statusParamInfo)},_.savePair=function(){validateParam(_.production)&&service.save(saveParam(_.production)).then(function(data){alert(data.responseMsg+"1"),_.dialogShow=!1,_dialog_mask2.default.hidden(),o.getUserInfoList()},function(reason){alert(reason.responseMsg+"2")})},_.closePair=function(){_.dialogShow=!1,_dialog_mask2.default.hidden()},o={laterQueryList:function(){var that=this;timer&&clearTimeout(timer),timer=setTimeout(function(){that.getUserInfoList()},200)},getUserInfoList:function(config){var param=JSON.parse(JSON.stringify(_.production));for(var item in param)"isFirst"!=item&&(param[item]||delete param[item]);if(service.getProductionaccpartnerList(param).then(function(data){data.page.result&&(_.pairList=data.page.result||[]),_.pairList.forEach(function(item){item.imgsIcon=!1}),console.log("666"),console.log(_.pairList),_.baseData=paddingData(data),0==data.page.result.length&&1!==_.production.pageNo&&(_.production.pageNo=_.production.pageNo-1,o.getUserInfoList()),_.count=data.page.totalCount,_.showPage="visible",_.currentPage=data.page.pageNo,_.allExportFlag=data.page.totalCount&&data.page.totalCount,_.$broadcast("EVT_PAGE_CHANGE",{total:data.page.totalPages,current:_.currentPage})},function(data){console.log(data)}),_.statusParamInfo){var cfg=config||{productionCode:_.statusParamInfo.code};service.getPairList(cfg).then(function(data){_.pairLists=data.accpartnerlist},function(data){console.log("888")})}},init:function(){this.getUserInfoList(),_.lodingMask=!0}},o.init(),_.$on("EVT_PAGE_SELECTED",function(evt,data){_.production.pageNo=data.pageSelectedNum,o.getUserInfoList(),_.production.pageNo=1})}Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=__webpack_require__(109),_dialog_mask=(_interopRequireDefault(_jquery),__webpack_require__(108)),_dialog_mask2=_interopRequireDefault(_dialog_mask);__webpack_require__(177);var dependArr=[__webpack_require__(180).default.name];exports.default={module:angular.module("pairCtrl",dependArr).controller("pairController",["$scope","pairService","$state","$timeout",controller]),template:__webpack_require__(181)}},177:function(module,exports,__webpack_require__){var content=__webpack_require__(178);"string"==typeof content&&(content=[[module.id,content,""]]);var update=__webpack_require__(16)(content,{});content.locals&&(module.exports=content.locals),content.locals||module.hot.accept(178,function(){var newContent=__webpack_require__(178);"string"==typeof newContent&&(newContent=[[module.id,newContent,""]]),update(newContent)}),module.hot.dispose(function(){update()})},178:function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(11)(),exports.push([module.id,".pair-dialog{width:700px;height:400px;position:fixed;margin:-200px -350px 0 0;top:380px;right:50%;z-index:1200;background:#efefef}.pair-dialog-title{height:50px;line-height:50px;text-indent:23px;font-weight:700}.pair-title{width:114px;text-align:right}.pair-wrap tr{height:50px}.pair-wrap input{width:184px}.pair-button{border:none;border-radius:5px;display:inline-block;font-family:microsoft yahei;font-size:14px;color:#fff;padding:10px 37px;cursor:pointer;background:#d8524a;margin:0 20px}.handle-btn{text-align:center;margin:20px 0}.producitonInfo{background:#f2f2f2;padding:0 6px;border:1px solid #ccc}.pair-edit-readonly{background:#ccc;border:1px solid #bbb}.br-blank{text-align:center;background:#efefef;border:1px solid #efefef}.pair-edit-select{width:184px;height:24px}.arrow_right{background:url("+__webpack_require__(179)+') no-repeat right 18px;background-size:85% 16px}.table-th{width:1164px;height:30px;//:1px solid #ccc}.table-th,.table-th h5{margin:0;padding:0;text-align:center}.table-th h5{float:left;font-weight:700;width:19.9%;height:36px;line-height:36px;background-color:#f6f6f6;border-right:1px solid #fff}.table-tbody{width:1164px;margin:0;padding:0}.table-tbody:nth-child(2n) p{background-color:#f7f7f7}.table-tbody:nth-child(2n+1) p{background-color:#fff}.capital-tbody:nth-child(2n+1) p{background-color:#f0f0f0}.capital-tbody:nth-child(2n) p{background-color:#f7f7f7}.table-tbody:hover .ps p{background-color:#dee9f9}.table-tbody p{width:19.9%;height:34px;line-height:34px}.capital-tbody p,.table-tbody p{float:left;margin:0;padding:0;border-right:1px solid #fff;text-align:center}.capital-tbody p{width:15%;height:30px;line-height:30px}.clearFix:after{height:0;display:block;line-height:0;clear:both;content:""}.capital{width:1100px;margin:16px 50px;height:30px}.capital-tbody,.capital .capital-th{width:1100px;height:30px;margin:0;padding:0;text-align:center}.capital .capital-th h5{float:left;width:15%;height:32px;line-height:32px;background-color:#eee;margin:0;padding:0;border-right:1px solid #fff}.capital .capital-th h5,.imgIcon{font-weight:700;text-align:center}.imgIcon{position:absolute;left:14px;top:8px;width:16px;height:16px;line-height:16px;border:2px solid #000;border-radius:3px;font-size:18px;color:#000}.imgIcon:hover{cursor:pointer}',""])},179:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"/images/arrow_right.png"},180:function(module,exports){"use strict";function service(util,ajax){return{setSelectedLi:function(current){var parent=util.parent(current,"ul");angular.element(parent).find("li").removeClass("selected"),angular.element(current).parent().addClass("selected")},getDate:function(val,fn){fn&&fn(val)},upService:function(){return ajax.post()},downLoadFile:function(){return ajax.post()},freezeCtrl:function(){return ajax.post()},getProductionaccpartnerList:function(cfg){return ajax.post("/acc/productionaccpartner/list.do",cfg)},save:function(cfg){return ajax.post("/acc/productionaccpartner/save.do",cfg)},getPairList:function(cfg){return ajax.post("/acc/productionaccpartner/accpartnerlist.do",cfg)},getAccSideList:function(cfg){return ajax.post("/acc/productionaccpartner/bankrollParList.do",cfg)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=angular.module("pairSer",[]).factory("pairService",["util","ajax",service])},181:function(module,exports){module.exports='<div class="main">\r\n\t<loding-mask></loding-mask>\r\n\t<div class="inner" ng-style="{\'min-height\':isShowReportDialog ? \'5000px\':\'auto\'}">\r\n\t    <div class="inner-header clearfix">\r\n\t        <div class="inner-header-lf fl">机构配对</div>\r\n\t        <!--<div class="inner-header-rt fr" style="min-width:220px">-->\r\n\t            <!--<a  ui-sref ="configuration.newOrganic" class="btn1 fr importA">新建机构</a>-->\r\n\t        <!--</div>-->\r\n\t    </div>\r\n\t    <div class="inner-body">\r\n\t        <div class="inner-select">\r\n\t            <table style="width: 100%;">\r\n\t            \t<tr>\r\n\t                    <td class="tl-r">产品状态：</td>\r\n\t                    <td>\r\n\t                        <select class="select-global" ng-model="production.productionStatus" ng-options = "option.id as option.value for option in baseData.productionStatusList"></select>\r\n\t                    </td>\r\n\t                </tr>\r\n\t                <tr>\r\n\t                \t<td class="tl-r">配置状态：</td>\r\n\t                    <td>\r\n\t                        <select class="select-global" ng-model="production.configStatus" ng-options = "option.id as option.value for option in baseData.configStatusList"></select>\r\n\t                    </td>\r\n\t                </tr>\r\n\t                <tr>\r\n\t                    <td class="tl-r"> 关键字：</td>\r\n\t                    <td class="fl search">\r\n\t                        <input type="text"  placeholder="产品编码" ng-model="production.keyWord" id="search"/>\r\n\t                    </td>\r\n\t                </tr>\r\n\t                <tr>\r\n\t\t\t\t\t\t<td class="tl-r"></td>\r\n\t\t\t\t\t\t<td class="fl search">\r\n\t\t\t\t\t\t\t<div class="search-start" ng-click="searchStart()">查 询</div>\r\n\t\t\t\t\t\t\t<div class="search-start" ng-click="clearSearch()">清 空</div>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t            </table>\r\n\t            <div class="inner-table">\r\n\t                    <div class="hdFixed">\r\n\t                    </div>\r\n\t                    <div class="bd">\r\n\t                        <!-- <table class="table_user oddEvenColor" border="1" borderColor="#fff" ng-click="tableClick($event)"> -->\r\n\t                        \t<div class="table_user oddEvenColor" border="1" borderColor="#fff" ng-click="tableClick($event)" style="width: 1164px;"></div>\r\n\t                            <div class="table-th" >\r\n\t                                <h5>\r\n\t                                \t产品名称\r\n\t                                \t<!--<div class="sortWrap">\r\n\t                                \t\t<div class="sortTimeTop" ng-click = \'sortTime({sortKey:"update_time",order:"asc"})\'></div>\r\n\t                                \t\t<div class="sortTimeBottom" ng-click = \'sortTime({sortKey:"update_time",order:"desc"})\'></div>\r\n\t                                \t</div>-->\r\n\t                                </h5>\r\n\t                                <h5>产品编码</h5>\r\n\t                                <!-- <th>关联资金方</th> -->\r\n\t                                <h5>产品状态</h5>\r\n\t                            \t  <h5>配置状态</h5>\r\n\t                                <h5>操作</h5>\r\n\t                            </div>\r\n\t                            <div  class="table-tbody" ng-repeat="item in pairList">\r\n\t                               <div class="clearFix ps">\r\n\t                               \t\t<p  style="position: relative;">\r\n\t                               \t\t\t<!-- imgsIcon -->\r\n\t                               \t\t\t<span \r\n\r\n\t                               \t\t\tclass="imgIcon"\r\n\t                               \t\t  ng-click="dian(item)">\r\n\t                               \t\t\t\t＋\r\n\t                               \t\t\t</span>\r\n                                   {{item.productionName}}\r\n\t                                </p>\r\n\t                                <p  ng-bind="item.productionCode"></p>\r\n\t                                <!--<p width="15%" ng-bind="item.productionCode"></p> -->\r\n\t                                <p  ng-bind="item.status|productionStatus"></p>\r\n\t                                \r\n\t                                <p  ng-bind="item.configStatus|configStatus"></p>\r\n\t                              \r\n\t                                <p>\r\n\t                                \t<!-- <a href="javascript:void(0)" ng-click = "viewDetail(item)" ng-bind = "handleTitle(item)">配置</a> -->\r\n\t                                \t <a \r\n\t                                \t  href="javascript:void(0)"  \r\n                                      ng-mouseover="viewDetail(item)"\r\n\t                                \t  ng-click = "openPair()">\r\n\t                                \t 新增配对</a>\r\n\t                                </p>\r\n\t                               \t</div>\r\n\t                               <div class="capital" ng-if="item.imgsIcon">\r\n\t                               \t<div class="capital-th">\r\n\t                               \t\t<h5>资金方名称</h5>\r\n\t                               \t\t<h5>资金方编码</h5>\r\n\t                               \t\t<h5>资金成本</h5>\r\n\t                               \t\t<h5>水象产品利率</h5>\r\n\t                               \t\t<h5>催收节点</h5>\r\n\t                               \t\t<h5>操作</h5>\r\n\t                               \t</div>\r\n\t                               \t<div class="capital-tbody" ng-repeat="itemo in pairLists">\r\n\t                               \t <p  ng-bind="itemo.accPartnerName"></p>\r\n\t                               \t <p  ng-bind="itemo.accPartnerCode"></p>\r\n\t                                 <p  ng-bind="itemo.fundSharing"></p>\r\n\t                                 <!--<p width="15%" ng-bind="item.productionCode"></p> -->\r\n\t                                 <p  ng-bind="itemo.assetSharing"></p>\r\n\t                                 <p  ng-bind="itemo.collNode"></p>\r\n\t                                 <p>\r\n\t                                \t<!-- <a href="javascript:void(0)" ng-click = "viewDetail(item)" ng-bind = "handleTitle(item)">配置</a> -->\r\n\t                                \t <a \r\n\t                                \t  href="javascript:void(0)"  \r\n\t                                \t  ng-click = "openPair()">\r\n\t                                \t 停用</a>\r\n\t                                 </p>\t\r\n\t                               \t</div>\r\n\t                               </div>\r\n\t                            </div>\r\n\t                        </div>\r\n\t                    </div>\r\n\r\n\r\n\t                <div class="ft clearfix yeshu" ng-style="{visibility:showPage}">\r\n\t\t\t            <div class="fl ft-lf">\r\n\t\t\t                                共 <span ng-bind="count"></span>条 每页显示\r\n\t\t\t                <select ng-model="selectOption.value" ng-change="selectChange(selectOption.value)" ng-options="v for v in selectOption.values">\r\n\t\t\t                </select>\r\n\t\t\t                </div>\r\n\t\t\t                <div class="fr ft-rt">\r\n\t\t\t                    <div class="page clearfix">\r\n\t\t\t                        <span page></span>\r\n\t\t\t                    </div>\r\n\t\t\t                </div>\r\n\t\t\t    </div>\r\n\t\t\t</div>\r\n\t    </div>\r\n\t    <div class="inner-footer"></div>\r\n\t    <div class="pair-dialog" ng-if = "dialogShow">\r\n\t    \t<div class="pair-dialog-title">配对配置</div>\r\n\t    \t<table class = "pair-wrap">\r\n\t    \t\t<tr>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<div class="pair-title">产品名称：</div>\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<input class="pair-edit-readonly" type="text"  maxlength="50" ng-model = "production.name" readonly="readonly" />\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td><div style="width: 50px;"></div></td>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<div class="pair-title">产品编码：</div>\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<input class="pair-edit-readonly" type="text"  maxlength="50" ng-model = "production.code" readonly="readonly" />\r\n\t    \t\t\t</td>\r\n\t    \t\t</tr>\r\n\t    \t\t<tr>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<div class="pair-title">关联资金方：</div>\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<select class="pair-edit-select" ng-model = "production.partnerName" ng-options = "option.partnerCode as option.partnerName for option in accSideList"></select>\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td class="arrow_right"></td>\r\n\t    \t\t\t\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<div class="pair-title">资金成本:</div>\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<input type="number" oninput="if(value.length>4)value=value.slice(0,6)" ng-model = "production.fundSharing" />\r\n\t    \t\t\t</td>\r\n\t    \t\t</tr>\r\n\t    \t\t<tr>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<div class="pair-title">资产方：</div>\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<input class="pair-edit-readonly" type="text"  ng-model = "production.partner" readonly="readonly"/>\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td class="arrow_right"></td>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<div class="pair-title">产品综合利率:</div>\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<input type="number"  oninput="if(value.length>4)value=value.slice(0,6)" ng-model = "production.assetSharing" />\r\n\t    \t\t\t</td>\r\n\t    \t\t</tr>\r\n\t    \t\t<tr>\r\n\t    \t\t\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<div class="pair-title">催收节点：</div>\r\n\t    \t\t\t</td>\r\n\t    \t\t\t<td>\r\n\t    \t\t\t\t<input type="text" maxlength="50" ng-model = "production.collNode" />\r\n\t    \t\t\t</td>\r\n\t    \t\t</tr>\r\n\t    \t</table>\r\n\t    \t<div class="handle-btn">\r\n\t    \t\t<button class="pair-button" ng-click = "savePair()">确定</button>\r\n\t    \t\t<button class="pair-button" ng-click = "closePair()">返回</button>\r\n\t    \t</div>\r\n\t    </div>\r\n\t</div>\r\n</div>\r\n\t\r\n\t\t\r\n'}});